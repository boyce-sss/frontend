/* 倉庫進出貨管理系統 - 樣式表 */

/* 基礎設定 */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    color: #333;
}

/* 導覽列 */
.navbar {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
    position: sticky;
    top: 0;
    z-index: 1000;
}

.nav-brand {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1.5rem;
    font-weight: bold;
    color: #667eea;
}

.nav-brand i {
    font-size: 2rem;
}

.nav-menu {
    display: flex;
    gap: 1rem;
}

.nav-link {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    text-decoration: none;
    color: #666;
    border-radius: 8px;
    transition: all 0.3s ease;
    font-weight: 500;
}

.nav-link:hover,
.nav-link.active {
    background: #667eea;
    color: white;
    transform: translateY(-2px);
}

/* 使用者選單（對齊 HTML 與 JS 的 class 命名）
   兼容舊寫法：.nav-user / .user-btn */
.user-menu,
.nav-user {
    position: relative;
    margin-left: 1rem;
}

.user-menu-btn,
.user-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: #f3f4ff;
    color: #4b4f8f;
    border: 1px solid #e4e7ff;
    padding: 0.55rem 0.9rem;
    border-radius: 999px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.2s ease;
}

.user-menu-btn:hover,
.user-btn:hover {
    background: #e9ebff;
    transform: translateY(-1px);
    box-shadow: 0 3px 12px rgba(102,126,234,0.2);
}

.user-dropdown {
    position: absolute;
    right: 0;
    top: calc(100% + 8px);
    min-width: 180px;
    background: #fff;
    border: 1px solid #eef0ff;
    border-radius: 10px;
    box-shadow: 0 12px 30px rgba(0,0,0,0.12);
    display: none;
    overflow: hidden;
    z-index: 1100;
}

.user-dropdown.show { display: block; }

.user-dropdown .dropdown-item {
    width: 100%;
    text-align: left;
    padding: 0.75rem 1rem;
    background: transparent;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.6rem;
    color: #444;
    font-weight: 500;
    transition: background 0.2s ease;
}

.user-dropdown .dropdown-item i { width: 18px; text-align: center; }

.user-dropdown .dropdown-item:hover {
    background: #f5f7ff;
}

/* 手機導覽收合 */
.nav-toggle {
    display: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #667eea;
}

/* 主要內容區域 */
.main-content {
    padding: 2rem;
    max-width: 1400px;
    margin: 0 auto;
}

/* 頁面切換 */
.page { display: none; }
.page.active { display: block; }

/* 頁面標題 */
.page-header {
    background: white;
    padding: 2rem;
    border-radius: 12px;
    margin-bottom: 2rem;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.page-header h1 {
    color: #333;
    font-size: 2rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.page-header p { color: #666; margin-top: 0.5rem; }

/* 按鈕樣式 */
.btn {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 500;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
    text-decoration: none;
}

.btn-primary { background: #667eea; color: white; }
.btn-primary:hover {
    background: #5a6fd8;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
}

.btn-secondary { background: #6c757d; color: white; }
.btn-danger { background: #dc3545; color: white; }
.btn-success { background: #28a745; color: white; }

/* 統計卡片 */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.stat-card {
    background: white;
    padding: 2rem;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: transform 0.3s ease;
}
.stat-card:hover { transform: translateY(-5px); }

.stat-icon {
    width: 60px; height: 60px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 1.5rem; color: white;
}
.stat-card:nth-child(1) .stat-icon { background: linear-gradient(135deg, #667eea, #764ba2); }
.stat-card:nth-child(2) .stat-icon { background: linear-gradient(135deg, #f093fb, #f5576c); }
.stat-card:nth-child(3) .stat-icon { background: linear-gradient(135deg, #4facfe, #00f2fe); }
.stat-card:nth-child(4) .stat-icon { background: linear-gradient(135deg, #43e97b, #38f9d7); }

.stat-content h3 { font-size: 2rem; color: #333; margin-bottom: 0.25rem; }
.stat-content p { color: #666; font-weight: 500; }

/* 本月統計（保留） */
.monthly-stats {
    background: white; padding: 2rem; border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); margin-bottom: 2rem;
}
.monthly-stats h2 { color: #333; margin-bottom: 1.5rem; font-size: 1.5rem; }
.stats-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; }
.stat-item { text-align: center; padding: 1rem; background: #f8f9fa; border-radius: 8px; }
.stat-item h4 { color: #666; font-size: 0.9rem; margin-bottom: 0.5rem; }
.stat-item p { color: #333; font-size: 1.5rem; font-weight: bold; }

/* 最近記錄（保留） */
.recent-records { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem; }
.recent-section { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); }
.recent-section h3 { color: #333; margin-bottom: 1rem; font-size: 1.25rem; }
.record-list { max-height: 300px; overflow-y: auto; }
.record-item { padding: 1rem; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
.record-item:last-child { border-bottom: none; }
.record-info h4 { color: #333; font-size: 1rem; margin-bottom: 0.25rem; }
.record-info p { color: #666; font-size: 0.9rem; }
.record-amount { font-weight: bold; color: #667eea; }

/* 低庫存警告 */
.low-stock-warning {
    background: white; padding: 2rem; border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}
.low-stock-warning h3 {
    color: #dc3545; margin-bottom: 1rem; font-size: 1.25rem;
    display: flex; align-items: center; gap: 0.5rem;
}
.warning-list { display: grid; gap: 1rem; }
.warning-item {
    padding: 1rem; background: #fff5f5; border: 1px solid #fed7d7;
    border-radius: 8px; display: flex; justify-content: space-between; align-items: center;
}
.warning-item .item-info h4 { color: #333; margin-bottom: 0.25rem; }
.warning-item .item-info p { color: #dc3545; font-weight: 500; }
.warning-item .stock-level {
    background: #dc3545; color: white; padding: 0.25rem 0.75rem;
    border-radius: 20px; font-size: 0.9rem; font-weight: 500;
}

/* 表格樣式 */
.table-container {
    background: white; border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); overflow: hidden;
}
.data-table { width: 100%; border-collapse: collapse; }
.data-table thead { background: #f8f9fa; }
.data-table th {
    padding: 1rem; text-align: left; font-weight: 600; color: #333;
    border-bottom: 2px solid #dee2e6;
}
.data-table td { padding: 1rem; border-bottom: 1px solid #eee; color: #666; }
.data-table tbody tr:hover { background: #f8f9fa; }
.data-table .action-buttons { display: flex; gap: 0.5rem; }

/* Modal 樣式 */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.5); display: flex; align-items: center; justify-content: center;
    z-index: 2000; backdrop-filter: blur(5px);
}
.modal {
    background: white; border-radius: 12px; padding: 2rem; max-width: 500px; width: 90%;
    max-height: 90vh; overflow-y: auto; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
}
.modal-header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 1px solid #eee;
}
.modal-header h2 { color: #333; font-size: 1.5rem; }
.modal-close {
    background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #666;
    padding: 0.5rem; border-radius: 50%; transition: background 0.3s ease;
}
.modal-close:hover { background: #f8f9fa; }

/* 表單通用 */
.form-group { margin-bottom: 1.5rem; }
.form-group label { display: block; margin-bottom: 0.5rem; color: #333; font-weight: 500; }
.form-group input,
.form-group select,
.form-group textarea {
    width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 8px;
    font-size: 1rem; transition: border-color 0.3s ease;
}
.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
.modal-footer {
    display: flex; justify-content: flex-end; gap: 1rem; margin-top: 2rem;
    padding-top: 1rem; border-top: 1px solid #eee;
}

/* 變更密碼卡片（美化） */
.change-password-card {
    margin-top: 16px; padding: 1.5rem 1.5rem 1.25rem;
}
.change-password-card .card-header h3 {
    display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.25rem;
}
.change-password-card .subtext {
    color: #6b7280; font-size: 0.95rem; margin-bottom: 1rem;
}
.form-grid { display: grid; gap: 1rem; }
.form-grid .form-row { grid-template-columns: 1fr 1fr; }

.form-actions {
    display: flex; gap: 0.75rem; justify-content: flex-end; margin-top: 0.5rem;
}
.form-message {
    margin-top: 0.75rem; font-size: 0.95rem; color: #374151; background: #f3f4f6;
    border: 1px solid #e5e7eb; border-radius: 8px; padding: 0.75rem 1rem;
}
.form-message.error { color: #b91c1c; background: #fef2f2; border-color: #fecaca; }
.form-message.success { color: #065f46; background: #ecfdf5; border-color: #a7f3d0; }

/* 管理員 reset details */
details.admin-reset {
    margin: 0.25rem 0 0.5rem;
    border: 1px dashed #dbe1ff;
    background: #fbfcff;
    border-radius: 10px;
    padding: 0.75rem 0.9rem;
}
details.admin-reset summary {
    cursor: pointer; list-style: none; user-select: none;
    font-weight: 600; color: #4b4f8f; display: flex; align-items: center; gap: 0.5rem;
}
details.admin-reset[open] { background: #f6f8ff; }
details.admin-reset .hint { color: #6b7280; font-size: 0.9rem; margin-top: 0.4rem; }

/* 載入指示器 */
.loading-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(255, 255, 255, 0.9);
    display: none; align-items: center; justify-content: center;
    z-index: 3000;
}
.loading-overlay.show { display: flex; }
.loading-spinner { text-align: center; color: #667eea; }
.loading-spinner i { font-size: 3rem; margin-bottom: 1rem; }
.loading-spinner p { font-size: 1.1rem; font-weight: 500; }

/* 儀表板網格 */
.dashboard-grid {
    display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;
}
.recent-activity,
.low-stock-alert {
    background: white; padding: 2rem; border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}
.recent-activity h3, .low-stock-alert h3 {
    color: #333; margin-bottom: 1rem; font-size: 1.25rem;
}
.activity-list, .alert-list { max-height: 300px; overflow-y: auto; }
.activity-item, .warning-item {
    padding: 1rem; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center;
}
.activity-item:last-child, .warning-item:last-child { border-bottom: none; }
.activity-info h4, .warning-item .item-info h4 {
    color: #333; font-size: 1rem; margin-bottom: 0.25rem;
}
.activity-info p, .warning-item .item-info p { color: #666; font-size: 0.9rem; }
.activity-info small { color: #999; font-size: 0.8rem; }
.stock-level {
    background: #dc3545; color: white; padding: 0.25rem 0.75rem; border-radius: 20px;
    font-size: 0.9rem; font-weight: 500;
}

/* 內容卡片 */
.content-card {
    background: white; border-radius: 12px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    overflow: hidden;
}

/* 通知系統 */
.notification {
    position: fixed; top: 20px; right: 20px;
    padding: 1rem 2rem; border-radius: 8px; color: white; font-weight: 500;
    z-index: 4000; transform: translateX(100%); transition: transform 0.3s ease;
}
.notification.show { transform: translateX(0); }
.notification.success { background: #28a745; }
.notification.error { background: #dc3545; }
.notification.info { background: #17a2b8; }

/* 文字色彩 */
.text-danger { color: #dc3545 !important; font-weight: 600; }
.text-success { color: #28a745 !important; font-weight: 600; }

/* Modal 內容補強 */
.modal-content { display: block; }
.modal-content .form-group + .form-group { margin-top: 1rem; }

/* 響應式設計 */
@media (max-width: 992px) {
    .form-grid .form-row { grid-template-columns: 1fr; }
}

@media (max-width: 768px) {
    .navbar { padding: 1rem; }

    .nav-menu {
        display: none; position: absolute; top: 100%; left: 0; width: 100%;
        background: white; flex-direction: column; padding: 1rem;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }
    .nav-menu.show { display: flex; }

    .nav-toggle { display: block; }

    .main-content { padding: 1rem; }
    .page-header { flex-direction: column; gap: 1rem; text-align: center; }
    .stats-grid { grid-template-columns: 1fr; }
    .dashboard-grid { grid-template-columns: 1fr; }
    .recent-records { grid-template-columns: 1fr; }
    .stats-row { grid-template-columns: 1fr 1fr; }
    .form-row { grid-template-columns: 1fr; }

    .data-table { font-size: 0.9rem; }
    .data-table th, .data-table td { padding: 0.5rem; }
    .action-buttons { flex-direction: column; gap: 0.25rem; }

    .user-dropdown { right: 0; left: auto; min-width: 170px; }
}

@media (max-width: 480px) {
    .stats-row { grid-template-columns: 1fr; }
    .modal { width: 95%; padding: 1rem; }
    .modal-footer { flex-direction: column; }
}
